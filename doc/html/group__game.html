<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mdptetris: Game</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mdptetris
   &#160;<span id="projectnumber">1.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">Game<div class="ingroups"><a class="el" href="group__api.html">MdpTetris API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A tetris game.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAction.html">Action</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structAction.html" title="Action decided by the player.">Action</a> decided by the player.  <a href="structAction.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPieceConfiguration.html">PieceConfiguration</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration of the game pieces.  <a href="structPieceConfiguration.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGame.html">Game</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A game.  <a href="structGame.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga7cc5dc0c20cab7819d4ce6bcfe6cd5ec"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structPieceConfiguration.html">PieceConfiguration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#ga7cc5dc0c20cab7819d4ce6bcfe6cd5ec">PieceConfiguration</a></td></tr>
<tr class="memdesc:ga7cc5dc0c20cab7819d4ce6bcfe6cd5ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration of the game pieces.  <a href="group__game.html#ga7cc5dc0c20cab7819d4ce6bcfe6cd5ec">More...</a><br /></td></tr>
<tr class="separator:ga7cc5dc0c20cab7819d4ce6bcfe6cd5ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Game creation and destruction</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpe0c795aee7f2e32eaa591cf71fd04590"></a>These functions allow to create or destroy a game. </p>
</td></tr>
<tr class="memitem:gae1f7825a4344d89d92aca4a74fa3ada7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structGame.html">Game</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#gae1f7825a4344d89d92aca4a74fa3ada7">new_game</a> (int tetris_implementation, int width, int height, int allow_lines_after_overflow, const char *pieces_file_name, int *piece_sequence)</td></tr>
<tr class="memdesc:gae1f7825a4344d89d92aca4a74fa3ada7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new tetris game.  <a href="group__game.html#gae1f7825a4344d89d92aca4a74fa3ada7">More...</a><br /></td></tr>
<tr class="separator:gae1f7825a4344d89d92aca4a74fa3ada7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad8183c30f581d33a624351b9281a356"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structGame.html">Game</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#gaad8183c30f581d33a624351b9281a356">new_standard_game</a> ()</td></tr>
<tr class="memdesc:gaad8183c30f581d33a624351b9281a356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new standard Tetris game.  <a href="group__game.html#gaad8183c30f581d33a624351b9281a356">More...</a><br /></td></tr>
<tr class="separator:gaad8183c30f581d33a624351b9281a356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f71e0a98ca24eebe6724187af489ba6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structGame.html">Game</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#ga3f71e0a98ca24eebe6724187af489ba6">new_game_from_parameters</a> (<a class="el" href="structCommonParameters.html">CommonParameters</a> *parameters)</td></tr>
<tr class="memdesc:ga3f71e0a98ca24eebe6724187af489ba6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a game with somes parameters given in a structure <a class="el" href="structCommonParameters.html">CommonParameters</a>.  <a href="group__game.html#ga3f71e0a98ca24eebe6724187af489ba6">More...</a><br /></td></tr>
<tr class="separator:ga3f71e0a98ca24eebe6724187af489ba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6441edc0359bb27d8ab00105965cb218"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structGame.html">Game</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#ga6441edc0359bb27d8ab00105965cb218">new_game_copy</a> (const <a class="el" href="structGame.html">Game</a> *other)</td></tr>
<tr class="memdesc:ga6441edc0359bb27d8ab00105965cb218"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a copy of a game.  <a href="group__game.html#ga6441edc0359bb27d8ab00105965cb218">More...</a><br /></td></tr>
<tr class="separator:ga6441edc0359bb27d8ab00105965cb218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac14f3350dd9bdfc0793f85569fca1159"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#gac14f3350dd9bdfc0793f85569fca1159">game_copy</a> (const <a class="el" href="structGame.html">Game</a> *source, <a class="el" href="structGame.html">Game</a> *destination)</td></tr>
<tr class="memdesc:gac14f3350dd9bdfc0793f85569fca1159"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies a game into another game object. This is the same as <a class="el" href="group__game.html#ga6441edc0359bb27d8ab00105965cb218" title="Creates a copy of a game.">new_game_copy()</a> except that no new object is allocated.  <a href="group__game.html#gac14f3350dd9bdfc0793f85569fca1159">More...</a><br /></td></tr>
<tr class="separator:gac14f3350dd9bdfc0793f85569fca1159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98bb68f0ee0b77fbd9d7c56957190c9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#ga98bb68f0ee0b77fbd9d7c56957190c9d">free_game</a> (<a class="el" href="structGame.html">Game</a> *game)</td></tr>
<tr class="memdesc:ga98bb68f0ee0b77fbd9d7c56957190c9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a game.  <a href="group__game.html#ga98bb68f0ee0b77fbd9d7c56957190c9d">More...</a><br /></td></tr>
<tr class="separator:ga98bb68f0ee0b77fbd9d7c56957190c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Observation functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp8b8081843ef0441dbed246fde773d6bc"></a>These functions provide some information about the current game state. You can read directly the content of a game's structure. </p>
</td></tr>
<tr class="memitem:ga910db7989fccde457c2482c39804f097"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#ga910db7989fccde457c2482c39804f097">game_get_nb_possible_orientations</a> (<a class="el" href="structGame.html">Game</a> *game)</td></tr>
<tr class="memdesc:ga910db7989fccde457c2482c39804f097"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of possible orientations for the current piece.  <a href="group__game.html#ga910db7989fccde457c2482c39804f097">More...</a><br /></td></tr>
<tr class="separator:ga910db7989fccde457c2482c39804f097"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a46803afa02f46b73bb855f1f4f7e10"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#ga1a46803afa02f46b73bb855f1f4f7e10">game_get_nb_possible_columns</a> (<a class="el" href="structGame.html">Game</a> *game, int <a class="el" href="strategy_8c.html#a528d22a2a1651a4831eb643884a3c718">orientation</a>)</td></tr>
<tr class="memdesc:ga1a46803afa02f46b73bb855f1f4f7e10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of columns where you can put the current piece.  <a href="group__game.html#ga1a46803afa02f46b73bb855f1f4f7e10">More...</a><br /></td></tr>
<tr class="separator:ga1a46803afa02f46b73bb855f1f4f7e10"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Modification functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp46e6450613117b02a637e2c556974db0"></a>These function change the current game state. You should not change the content of a game's structure directly. </p>
</td></tr>
<tr class="memitem:ga3ea68eb27bbd5366c7138c6d5a2281c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#ga3ea68eb27bbd5366c7138c6d5a2281c4">game_drop_piece</a> (<a class="el" href="structGame.html">Game</a> *game, const <a class="el" href="structAction.html">Action</a> *action, int cancellable, const <a class="el" href="structFeaturePolicy.html">FeaturePolicy</a> *feature_policy)</td></tr>
<tr class="memdesc:ga3ea68eb27bbd5366c7138c6d5a2281c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes a move.  <a href="group__game.html#ga3ea68eb27bbd5366c7138c6d5a2281c4">More...</a><br /></td></tr>
<tr class="separator:ga3ea68eb27bbd5366c7138c6d5a2281c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa067e8f437a3dfc9903f2b8aef397e24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#gaa067e8f437a3dfc9903f2b8aef397e24">game_cancel_last_move</a> (<a class="el" href="structGame.html">Game</a> *game)</td></tr>
<tr class="memdesc:gaa067e8f437a3dfc9903f2b8aef397e24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels the last move.  <a href="group__game.html#gaa067e8f437a3dfc9903f2b8aef397e24">More...</a><br /></td></tr>
<tr class="separator:gaa067e8f437a3dfc9903f2b8aef397e24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe1c8d507000882d5161460f626ec356"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#gabe1c8d507000882d5161460f626ec356">game_set_current_piece_index</a> (<a class="el" href="structGame.html">Game</a> *game, int piece_index)</td></tr>
<tr class="memdesc:gabe1c8d507000882d5161460f626ec356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the current piece of the game.  <a href="group__game.html#gabe1c8d507000882d5161460f626ec356">More...</a><br /></td></tr>
<tr class="separator:gabe1c8d507000882d5161460f626ec356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e246714cfe5d69632e88a9acb5954f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#ga8e246714cfe5d69632e88a9acb5954f9">game_reset</a> (<a class="el" href="structGame.html">Game</a> *game)</td></tr>
<tr class="memdesc:ga8e246714cfe5d69632e88a9acb5954f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the game and starts a new one.  <a href="group__game.html#ga8e246714cfe5d69632e88a9acb5954f9">More...</a><br /></td></tr>
<tr class="separator:ga8e246714cfe5d69632e88a9acb5954f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ddaca8191470bb21dae18e1225dbd5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#ga6ddaca8191470bb21dae18e1225dbd5f">generate_next_piece</a> (<a class="el" href="structGame.html">Game</a> *game)</td></tr>
<tr class="memdesc:ga6ddaca8191470bb21dae18e1225dbd5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the next piece.  <a href="group__game.html#ga6ddaca8191470bb21dae18e1225dbd5f">More...</a><br /></td></tr>
<tr class="separator:ga6ddaca8191470bb21dae18e1225dbd5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Displaying</h2></td></tr>
<tr class="memitem:ga15acee69f7109ace657ed6bf106a94b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__game.html#ga15acee69f7109ace657ed6bf106a94b6">game_print</a> (FILE *out, <a class="el" href="structGame.html">Game</a> *game)</td></tr>
<tr class="memdesc:ga15acee69f7109ace657ed6bf106a94b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a human-readable view of the current state in a file.  <a href="group__game.html#ga15acee69f7109ace657ed6bf106a94b6">More...</a><br /></td></tr>
<tr class="separator:ga15acee69f7109ace657ed6bf106a94b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A tetris game. </p>
<p>This module handles a game of Tetris. A game is composed by the board state, the current piece and the score. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga7cc5dc0c20cab7819d4ce6bcfe6cd5ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7cc5dc0c20cab7819d4ce6bcfe6cd5ec">&#9670;&nbsp;</a></span>PieceConfiguration</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structPieceConfiguration.html">PieceConfiguration</a> <a class="el" href="structPieceConfiguration.html">PieceConfiguration</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configuration of the game pieces. </p>
<p>This structure describes the set of pieces to use in the game. In standard Tetris, there are 7 pieces. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae1f7825a4344d89d92aca4a74fa3ada7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae1f7825a4344d89d92aca4a74fa3ada7">&#9670;&nbsp;</a></span>new_game()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structGame.html">Game</a>* new_game </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tetris_implementation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>allow_lines_after_overflow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pieces_file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>piece_sequence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new tetris game. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>board width (10 in standard Tetris; must be lower than or equal to 14) </td></tr>
    <tr><td class="paramname">height</td><td>board height (20 in standard Tetris) </td></tr>
    <tr><td class="paramname">allow_lines_after_overflow</td><td>1 to enable the lines completion when the piece overflows </td></tr>
    <tr><td class="paramname">pieces_file_name</td><td>a file describing the pieces (pieces4.dat for standard Tetris) </td></tr>
    <tr><td class="paramname">piece_sequence</td><td>a predeterminated sequence of pieces, or NULL to generate the pieces randomly; the sequence of pieces must be a NULL-terminated array of pieces indexes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the game created </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__game.html#gaad8183c30f581d33a624351b9281a356" title="Creates a new standard Tetris game.">new_standard_game()</a>, <a class="el" href="group__game.html#ga3f71e0a98ca24eebe6724187af489ba6" title="Creates a game with somes parameters given in a structure CommonParameters.">new_game_from_parameters()</a>, <a class="el" href="group__game.html#ga6441edc0359bb27d8ab00105965cb218" title="Creates a copy of a game.">new_game_copy()</a>, <a class="el" href="group__game.html#ga98bb68f0ee0b77fbd9d7c56957190c9d" title="Destroys a game.">free_game()</a> </dd></dl>

</div>
</div>
<a id="gaad8183c30f581d33a624351b9281a356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad8183c30f581d33a624351b9281a356">&#9670;&nbsp;</a></span>new_standard_game()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structGame.html">Game</a>* new_standard_game </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new standard Tetris game. </p>
<p>The standard configuration is: 20 rows, 10 columns and the 7 standard pieces. The pieces are loaded from the file <code>pieces4.dat</code>, so this file is supposed to be in the current directory.</p>
<dl class="section return"><dt>Returns</dt><dd>the game created </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__game.html#gae1f7825a4344d89d92aca4a74fa3ada7" title="Creates a new tetris game.">new_game()</a>, <a class="el" href="group__game.html#ga3f71e0a98ca24eebe6724187af489ba6" title="Creates a game with somes parameters given in a structure CommonParameters.">new_game_from_parameters()</a>, <a class="el" href="group__game.html#ga6441edc0359bb27d8ab00105965cb218" title="Creates a copy of a game.">new_game_copy()</a>, <a class="el" href="group__game.html#ga98bb68f0ee0b77fbd9d7c56957190c9d" title="Destroys a game.">free_game()</a> </dd></dl>

</div>
</div>
<a id="ga3f71e0a98ca24eebe6724187af489ba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f71e0a98ca24eebe6724187af489ba6">&#9670;&nbsp;</a></span>new_game_from_parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structGame.html">Game</a>* new_game_from_parameters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCommonParameters.html">CommonParameters</a> *&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a game with somes parameters given in a structure <a class="el" href="structCommonParameters.html">CommonParameters</a>. </p>
<p>The structure <a class="el" href="structCommonParameters.html">CommonParameters</a> specifies the board and the pieces.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameters</td><td>the parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the game created </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__game.html#gae1f7825a4344d89d92aca4a74fa3ada7" title="Creates a new tetris game.">new_game()</a>, <a class="el" href="group__game.html#gaad8183c30f581d33a624351b9281a356" title="Creates a new standard Tetris game.">new_standard_game()</a>, <a class="el" href="group__game.html#ga6441edc0359bb27d8ab00105965cb218" title="Creates a copy of a game.">new_game_copy()</a>, <a class="el" href="group__game.html#ga98bb68f0ee0b77fbd9d7c56957190c9d" title="Destroys a game.">free_game()</a> </dd></dl>

</div>
</div>
<a id="ga6441edc0359bb27d8ab00105965cb218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6441edc0359bb27d8ab00105965cb218">&#9670;&nbsp;</a></span>new_game_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structGame.html">Game</a>* new_game_copy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structGame.html">Game</a> *&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a copy of a game. </p>
<dl class="section return"><dt>Returns</dt><dd>the game created </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__game.html#gae1f7825a4344d89d92aca4a74fa3ada7" title="Creates a new tetris game.">new_game()</a>, <a class="el" href="group__game.html#gaad8183c30f581d33a624351b9281a356" title="Creates a new standard Tetris game.">new_standard_game()</a>, <a class="el" href="group__game.html#ga3f71e0a98ca24eebe6724187af489ba6" title="Creates a game with somes parameters given in a structure CommonParameters.">new_game_from_parameters()</a>, <a class="el" href="group__game.html#ga98bb68f0ee0b77fbd9d7c56957190c9d" title="Destroys a game.">free_game()</a> </dd></dl>

</div>
</div>
<a id="gac14f3350dd9bdfc0793f85569fca1159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac14f3350dd9bdfc0793f85569fca1159">&#9670;&nbsp;</a></span>game_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void game_copy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structGame.html">Game</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> *&#160;</td>
          <td class="paramname"><em>destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies a game into another game object. This is the same as <a class="el" href="group__game.html#ga6441edc0359bb27d8ab00105965cb218" title="Creates a copy of a game.">new_game_copy()</a> except that no new object is allocated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>the source game </td></tr>
    <tr><td class="paramname">destination</td><td>the destination game </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__game.html#ga6441edc0359bb27d8ab00105965cb218" title="Creates a copy of a game.">new_game_copy()</a> </dd></dl>

</div>
</div>
<a id="ga98bb68f0ee0b77fbd9d7c56957190c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga98bb68f0ee0b77fbd9d7c56957190c9d">&#9670;&nbsp;</a></span>free_game()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_game </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a game. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>the game to destroy </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__game.html#gae1f7825a4344d89d92aca4a74fa3ada7" title="Creates a new tetris game.">new_game()</a>, <a class="el" href="group__game.html#gaad8183c30f581d33a624351b9281a356" title="Creates a new standard Tetris game.">new_standard_game()</a>, <a class="el" href="group__game.html#ga3f71e0a98ca24eebe6724187af489ba6" title="Creates a game with somes parameters given in a structure CommonParameters.">new_game_from_parameters()</a>, <a class="el" href="group__game.html#ga6441edc0359bb27d8ab00105965cb218" title="Creates a copy of a game.">new_game_copy()</a> </dd></dl>

</div>
</div>
<a id="ga910db7989fccde457c2482c39804f097"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga910db7989fccde457c2482c39804f097">&#9670;&nbsp;</a></span>game_get_nb_possible_orientations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int game_get_nb_possible_orientations </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of possible orientations for the current piece. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>the game </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of possible orientations for the current piece </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__game.html#ga1a46803afa02f46b73bb855f1f4f7e10" title="Returns the number of columns where you can put the current piece.">game_get_nb_possible_columns()</a> </dd></dl>

</div>
</div>
<a id="ga1a46803afa02f46b73bb855f1f4f7e10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a46803afa02f46b73bb855f1f4f7e10">&#9670;&nbsp;</a></span>game_get_nb_possible_columns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int game_get_nb_possible_columns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>orientation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of columns where you can put the current piece. </p>
<p>This number of columns depends on the orientation of the piece.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>the game </td></tr>
    <tr><td class="paramname">orientation</td><td>orientation of the current piece: <code>0 &lt;= orientation &lt; game_get_nb_possible_orientations(game)</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of authorized columns for the current piece </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__game.html#ga910db7989fccde457c2482c39804f097" title="Returns the number of possible orientations for the current piece.">game_get_nb_possible_orientations()</a> </dd></dl>

</div>
</div>
<a id="ga3ea68eb27bbd5366c7138c6d5a2281c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ea68eb27bbd5366c7138c6d5a2281c4">&#9670;&nbsp;</a></span>game_drop_piece()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int game_drop_piece </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAction.html">Action</a> *&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cancellable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structFeaturePolicy.html">FeaturePolicy</a> *&#160;</td>
          <td class="paramname"><em>feature_policy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes a move. </p>
<p>Drops the current piece in a column and scores the points for the removed lines. The move is supposed to be authorized, i.e. <code>0 &lt;= action-&gt;orientation &lt; game_get_nb_possible_orientations(game)</code> and <code>0 &lt; action-&gt;column &lt;= game_get_nb_possible_columns(game, action-&gt;orientation)</code>. Otherwise the result of this function is undetermined. The game should not be over before this function is called, but it might be over after this move.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>the game </td></tr>
    <tr><td class="paramname">action</td><td>orientation and column of the piece (for the column, the left column of the piece is considered) </td></tr>
    <tr><td class="paramname">cancellable</td><td>true to allow the move to be cancelled later </td></tr>
    <tr><td class="paramname">feature_policy</td><td>the feature policy used (if any) - not used currently </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of lines just removed </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__game.html#gaa067e8f437a3dfc9903f2b8aef397e24" title="Cancels the last move.">game_cancel_last_move()</a> </dd></dl>

</div>
</div>
<a id="gaa067e8f437a3dfc9903f2b8aef397e24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa067e8f437a3dfc9903f2b8aef397e24">&#9670;&nbsp;</a></span>game_cancel_last_move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void game_cancel_last_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancels the last move. </p>
<p>The last dropped piece is removed and the previous game state is restored. This is possible only if <code>cancellable</code> was set to <code>1</code> when you called <a class="el" href="group__game.html#ga3ea68eb27bbd5366c7138c6d5a2281c4" title="Makes a move.">game_drop_piece()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>the game </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__game.html#ga3ea68eb27bbd5366c7138c6d5a2281c4" title="Makes a move.">game_drop_piece()</a> </dd></dl>

</div>
</div>
<a id="gabe1c8d507000882d5161460f626ec356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe1c8d507000882d5161460f626ec356">&#9670;&nbsp;</a></span>game_set_current_piece_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void game_set_current_piece_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>piece_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the current piece of the game. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>a game </td></tr>
    <tr><td class="paramname">piece_index</td><td>index of the new current piece: <code>0 &lt;= piece_index &lt; game-&gt;piece_configuration.nb_pieces</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8e246714cfe5d69632e88a9acb5954f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8e246714cfe5d69632e88a9acb5954f9">&#9670;&nbsp;</a></span>game_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void game_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the game and starts a new one. </p>
<p>If you have many games to play, you should call this function once a game is over, instead of allocating a new one.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>the game to reset </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6ddaca8191470bb21dae18e1225dbd5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ddaca8191470bb21dae18e1225dbd5f">&#9670;&nbsp;</a></span>generate_next_piece()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void generate_next_piece </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates the next piece. </p>
<p>This function is called when the current piece is placed. If there is a sequence of pieces (i.e. <code>game-&gt;piece_sequence != NULL</code>), the next piece is picked from this sequence, otherwise it is chosen randomly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game</td><td>the game </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>restore_previous_piece() </dd></dl>

</div>
</div>
<a id="ga15acee69f7109ace657ed6bf106a94b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga15acee69f7109ace657ed6bf106a94b6">&#9670;&nbsp;</a></span>game_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void game_print </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structGame.html">Game</a> *&#160;</td>
          <td class="paramname"><em>game</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a human-readable view of the current state in a file. </p>
<p>The current piece, a view of the board and the game score are printed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>file to write, e.g. stdout </td></tr>
    <tr><td class="paramname">game</td><td>the game </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
