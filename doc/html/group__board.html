<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mdptetris: Board</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mdptetris
   &#160;<span id="projectnumber">1.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle">
<div class="title">Board<div class="ingroups"><a class="el" href="group__api.html">MdpTetris API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The Tetris board.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBoard.html">Board</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The game board.  <a href="structBoard.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Board creation and destruction</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpf53eeb25e745be1f3ac5d065afe432ac"></a>These functions allow to create or destroy a board. </p>
</td></tr>
<tr class="memitem:ga5883405927fd3442d6211deda84c23ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBoard.html">Board</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__board.html#ga5883405927fd3442d6211deda84c23ce">new_board</a> (int width, int height, int allow_lines_after_overflow, int nb_pieces, <a class="el" href="structPiece.html">Piece</a> *pieces)</td></tr>
<tr class="memdesc:ga5883405927fd3442d6211deda84c23ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new empty board.  <a href="group__board.html#ga5883405927fd3442d6211deda84c23ce">More...</a><br /></td></tr>
<tr class="separator:ga5883405927fd3442d6211deda84c23ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3959ad1496507302a775b63d1b0793dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBoard.html">Board</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__board.html#ga3959ad1496507302a775b63d1b0793dd">new_board_copy</a> (const <a class="el" href="structBoard.html">Board</a> *board)</td></tr>
<tr class="memdesc:ga3959ad1496507302a775b63d1b0793dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a copy of a board.  <a href="group__board.html#ga3959ad1496507302a775b63d1b0793dd">More...</a><br /></td></tr>
<tr class="separator:ga3959ad1496507302a775b63d1b0793dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42ce677b65ee39263635b5530ee5fafc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__board.html#ga42ce677b65ee39263635b5530ee5fafc">board_copy</a> (const <a class="el" href="structBoard.html">Board</a> *source, <a class="el" href="structBoard.html">Board</a> *destination)</td></tr>
<tr class="memdesc:ga42ce677b65ee39263635b5530ee5fafc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes a copy of a board into an existing board structure.  <a href="group__board.html#ga42ce677b65ee39263635b5530ee5fafc">More...</a><br /></td></tr>
<tr class="separator:ga42ce677b65ee39263635b5530ee5fafc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66c023a25a1e14ad069a96b4d42baed0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__board.html#ga66c023a25a1e14ad069a96b4d42baed0">free_board</a> (<a class="el" href="structBoard.html">Board</a> *board)</td></tr>
<tr class="memdesc:ga66c023a25a1e14ad069a96b4d42baed0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a board.  <a href="group__board.html#ga66c023a25a1e14ad069a96b4d42baed0">More...</a><br /></td></tr>
<tr class="separator:ga66c023a25a1e14ad069a96b4d42baed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Actions on the board</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp7d7fdaefd90845facfcebad5c654e9ac"></a>These functions change the board state. You should not change the content of a board's structure directly. </p>
</td></tr>
<tr class="memitem:ga3aaf139aa39834ec4863649c6abc20ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__board.html#ga3aaf139aa39834ec4863649c6abc20ff">board_drop_piece</a> (<a class="el" href="structBoard.html">Board</a> *board, <a class="el" href="structPieceOrientation.html">PieceOrientation</a> *oriented_piece, int <a class="el" href="strategy_8c.html#a528d22a2a1651a4831eb643884a3c718">orientation</a>, int <a class="el" href="strategy_8c.html#a60dae4c6e78188cd718b696e4f08fc71">column</a>, <a class="el" href="structLastMoveInfo.html">LastMoveInfo</a> *last_move_info, int cancellable)</td></tr>
<tr class="memdesc:ga3aaf139aa39834ec4863649c6abc20ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drops a new piece onto the wall.  <a href="group__board.html#ga3aaf139aa39834ec4863649c6abc20ff">More...</a><br /></td></tr>
<tr class="separator:ga3aaf139aa39834ec4863649c6abc20ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga489bf24a3f3fe9351b8aefb806fe9201"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__board.html#ga489bf24a3f3fe9351b8aefb806fe9201">board_drop_piece_fancy</a> (<a class="el" href="structBoard.html">Board</a> *board, <a class="el" href="structPieceOrientation.html">PieceOrientation</a> *oriented_piece, int <a class="el" href="strategy_8c.html#a528d22a2a1651a4831eb643884a3c718">orientation</a>, int <a class="el" href="strategy_8c.html#a60dae4c6e78188cd718b696e4f08fc71">column</a>, <a class="el" href="structLastMoveInfo.html">LastMoveInfo</a> *last_move_info, int cancellable, int **fancy_board)</td></tr>
<tr class="memdesc:ga489bf24a3f3fe9351b8aefb806fe9201"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drops a new piece onto the wall (this function updates a fancy version of the board for X interface, with different colors for different pieces)  <a href="group__board.html#ga489bf24a3f3fe9351b8aefb806fe9201">More...</a><br /></td></tr>
<tr class="separator:ga489bf24a3f3fe9351b8aefb806fe9201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d093172bc0260314bce9c2f04ef8101"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__board.html#ga5d093172bc0260314bce9c2f04ef8101">board_drop_piece_rlc</a> (<a class="el" href="structBoard.html">Board</a> *board, <a class="el" href="structPiece.html">Piece</a> *pieces, int piece_index, int desired_orientation, int desired_column, <a class="el" href="structLastMoveInfo.html">LastMoveInfo</a> *last_move_info, int cancellable)</td></tr>
<tr class="memdesc:ga5d093172bc0260314bce9c2f04ef8101"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drops a new piece onto the wall (implementation that is close(r) to the original Tetris setting)  <a href="group__board.html#ga5d093172bc0260314bce9c2f04ef8101">More...</a><br /></td></tr>
<tr class="separator:ga5d093172bc0260314bce9c2f04ef8101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10e3ed9190a31de00bd754a8b98851ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__board.html#ga10e3ed9190a31de00bd754a8b98851ac">board_cancel_last_move</a> (<a class="el" href="structBoard.html">Board</a> *board)</td></tr>
<tr class="memdesc:ga10e3ed9190a31de00bd754a8b98851ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the last dropped piece and restores the board state.  <a href="group__board.html#ga10e3ed9190a31de00bd754a8b98851ac">More...</a><br /></td></tr>
<tr class="separator:ga10e3ed9190a31de00bd754a8b98851ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafad41c30439c60ecb669d38519770676"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__board.html#gafad41c30439c60ecb669d38519770676">board_reset</a> (<a class="el" href="structBoard.html">Board</a> *board)</td></tr>
<tr class="memdesc:gafad41c30439c60ecb669d38519770676"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes the board empty to start a new game.  <a href="group__board.html#gafad41c30439c60ecb669d38519770676">More...</a><br /></td></tr>
<tr class="separator:gafad41c30439c60ecb669d38519770676"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Additional information about the board</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpb9aefbdfaf1bb97aa49213885dd3efaa"></a>The following functions provide some other information about the board. For performance reasons, these information are computed only if you ask it explicitly. </p>
</td></tr>
<tr class="memitem:ga799852fc60885e762aa64d2de859b304"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__board.html#ga799852fc60885e762aa64d2de859b304">board_update_column_heights</a> (<a class="el" href="structBoard.html">Board</a> *board)</td></tr>
<tr class="memdesc:ga799852fc60885e762aa64d2de859b304"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the height of the columns.  <a href="group__board.html#ga799852fc60885e762aa64d2de859b304">More...</a><br /></td></tr>
<tr class="separator:ga799852fc60885e762aa64d2de859b304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f783b7f06e6e914aec1b5f36d7b80a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__board.html#ga7f783b7f06e6e914aec1b5f36d7b80a5">board_get_column_height</a> (<a class="el" href="structBoard.html">Board</a> *board, int <a class="el" href="strategy_8c.html#a60dae4c6e78188cd718b696e4f08fc71">column</a>)</td></tr>
<tr class="memdesc:ga7f783b7f06e6e914aec1b5f36d7b80a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the height of a column.  <a href="group__board.html#ga7f783b7f06e6e914aec1b5f36d7b80a5">More...</a><br /></td></tr>
<tr class="separator:ga7f783b7f06e6e914aec1b5f36d7b80a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Displaying</h2></td></tr>
<tr class="memitem:ga87d9719e7bdbc0c5d1a167e4e95f9feb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__board.html#ga87d9719e7bdbc0c5d1a167e4e95f9feb">board_print</a> (FILE *out, <a class="el" href="structBoard.html">Board</a> *board)</td></tr>
<tr class="memdesc:ga87d9719e7bdbc0c5d1a167e4e95f9feb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the board into a file.  <a href="group__board.html#ga87d9719e7bdbc0c5d1a167e4e95f9feb">More...</a><br /></td></tr>
<tr class="separator:ga87d9719e7bdbc0c5d1a167e4e95f9feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Tetris board. </p>
<p>This module handles the game board. The board is composed by an array of rows. Each row is represented by a 16-bit integer. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5883405927fd3442d6211deda84c23ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5883405927fd3442d6211deda84c23ce">&#9670;&nbsp;</a></span>new_board()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBoard.html">Board</a>* new_board </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>allow_lines_after_overflow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nb_pieces</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPiece.html">Piece</a> *&#160;</td>
          <td class="paramname"><em>pieces</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new empty board. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>board width (10 in standard Tetris; must be lower than or equal to 14) </td></tr>
    <tr><td class="paramname">height</td><td>board height (20 in standard Tetris) </td></tr>
    <tr><td class="paramname">allow_lines_after_overflow</td><td>1 to enable the lines completion when the piece overflows </td></tr>
    <tr><td class="paramname">nb_pieces</td><td>number of existing pieces (7 for standard Tetris) </td></tr>
    <tr><td class="paramname">pieces</td><td>array of existing pieces (<code>nb_pieces</code> elements) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the board created </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__board.html#ga66c023a25a1e14ad069a96b4d42baed0" title="Destroys a board.">free_board()</a> </dd></dl>

</div>
</div>
<a id="ga3959ad1496507302a775b63d1b0793dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3959ad1496507302a775b63d1b0793dd">&#9670;&nbsp;</a></span>new_board_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBoard.html">Board</a>* new_board_copy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structBoard.html">Board</a> *&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a copy of a board. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>the board to copy </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the copy created </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__board.html#ga5883405927fd3442d6211deda84c23ce" title="Creates a new empty board.">new_board()</a>, <a class="el" href="group__board.html#ga42ce677b65ee39263635b5530ee5fafc" title="Makes a copy of a board into an existing board structure.">board_copy()</a> </dd></dl>

</div>
</div>
<a id="ga42ce677b65ee39263635b5530ee5fafc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga42ce677b65ee39263635b5530ee5fafc">&#9670;&nbsp;</a></span>board_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void board_copy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structBoard.html">Board</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBoard.html">Board</a> *&#160;</td>
          <td class="paramname"><em>destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes a copy of a board into an existing board structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>the board to copy </td></tr>
    <tr><td class="paramname">destination</td><td>a board already created </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga66c023a25a1e14ad069a96b4d42baed0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66c023a25a1e14ad069a96b4d42baed0">&#9670;&nbsp;</a></span>free_board()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_board </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBoard.html">Board</a> *&#160;</td>
          <td class="paramname"><em>board</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a board. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">board</td><td>the board to destroy </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__board.html#ga5883405927fd3442d6211deda84c23ce" title="Creates a new empty board.">new_board()</a> </dd></dl>

</div>
</div>
<a id="ga3aaf139aa39834ec4863649c6abc20ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3aaf139aa39834ec4863649c6abc20ff">&#9670;&nbsp;</a></span>board_drop_piece()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int board_drop_piece </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBoard.html">Board</a> *&#160;</td>
          <td class="paramname"><em>board</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPieceOrientation.html">PieceOrientation</a> *&#160;</td>
          <td class="paramname"><em>oriented_piece</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>orientation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structLastMoveInfo.html">LastMoveInfo</a> *&#160;</td>
          <td class="paramname"><em>last_move_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cancellable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drops a new piece onto the wall. </p>
<p>This function is called by <a class="el" href="group__game.html#ga3ea68eb27bbd5366c7138c6d5a2281c4" title="Makes a move.">game_drop_piece()</a>. This is where the simulations spend most of the time, so the code is optimized as much as we could. Each row is treated globally (there is no loop on the columns). The move is supposed to be authorized, otherwise the result of this function is undetermined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">board</td><td>the board </td></tr>
    <tr><td class="paramname">oriented_piece</td><td>the oriented piece to add </td></tr>
    <tr><td class="paramname">orientation</td><td>the piece orientation (used to update <code>last_move_info</code>) </td></tr>
    <tr><td class="paramname">column</td><td>where to drop the piece (the left column of the piece is considered), the first column is <code>1</code> </td></tr>
    <tr><td class="paramname">last_move_info</td><td>if not <code>NULL</code>, some information about this move will be stored here (useful for some of the features) </td></tr>
    <tr><td class="paramname">cancellable</td><td>true to allow the move to be cancelled later </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of removed lines </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__board.html#ga10e3ed9190a31de00bd754a8b98851ac" title="Removes the last dropped piece and restores the board state.">board_cancel_last_move()</a> </dd></dl>

</div>
</div>
<a id="ga489bf24a3f3fe9351b8aefb806fe9201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga489bf24a3f3fe9351b8aefb806fe9201">&#9670;&nbsp;</a></span>board_drop_piece_fancy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int board_drop_piece_fancy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBoard.html">Board</a> *&#160;</td>
          <td class="paramname"><em>board</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPieceOrientation.html">PieceOrientation</a> *&#160;</td>
          <td class="paramname"><em>oriented_piece</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>orientation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structLastMoveInfo.html">LastMoveInfo</a> *&#160;</td>
          <td class="paramname"><em>last_move_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cancellable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>fancy_board</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drops a new piece onto the wall (this function updates a fancy version of the board for X interface, with different colors for different pieces) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">board</td><td>the board </td></tr>
    <tr><td class="paramname">oriented_piece</td><td>the oriented piece to add </td></tr>
    <tr><td class="paramname">orientation</td><td>the piece orientation (used to update <code>last_move_info</code>) </td></tr>
    <tr><td class="paramname">column</td><td>where to drop the piece (the left column of the piece is considered), the first column is <code>1</code> </td></tr>
    <tr><td class="paramname">last_move_info</td><td>if not <code>NULL</code>, some information about this move will be stored here (useful for some of the features) </td></tr>
    <tr><td class="paramname">cancellable</td><td>true to allow the move to be cancelled later </td></tr>
    <tr><td class="paramname">fancy_board</td><td>an array that contains the colors of the pieces </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of removed lines </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__board.html#ga10e3ed9190a31de00bd754a8b98851ac" title="Removes the last dropped piece and restores the board state.">board_cancel_last_move()</a> </dd></dl>

</div>
</div>
<a id="ga5d093172bc0260314bce9c2f04ef8101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d093172bc0260314bce9c2f04ef8101">&#9670;&nbsp;</a></span>board_drop_piece_rlc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int board_drop_piece_rlc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBoard.html">Board</a> *&#160;</td>
          <td class="paramname"><em>board</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPiece.html">Piece</a> *&#160;</td>
          <td class="paramname"><em>pieces</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>piece_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>desired_orientation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>desired_column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structLastMoveInfo.html">LastMoveInfo</a> *&#160;</td>
          <td class="paramname"><em>last_move_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cancellable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drops a new piece onto the wall (implementation that is close(r) to the original Tetris setting) </p>
<p>This function is called by <a class="el" href="group__game.html#ga3ea68eb27bbd5366c7138c6d5a2281c4" title="Makes a move.">game_drop_piece()</a>. The move is supposed to be authorized, otherwise the result of this function is undetermined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">board</td><td>the board </td></tr>
    <tr><td class="paramname">oriented_piece</td><td>the oriented piece to add </td></tr>
    <tr><td class="paramname">orientation</td><td>the piece orientation (used to update <code>last_move_info</code>) </td></tr>
    <tr><td class="paramname">column</td><td>where to drop the piece (the left column of the piece is considered), the first column is <code>1</code> </td></tr>
    <tr><td class="paramname">last_move_info</td><td>if not <code>NULL</code>, some information about this move will be stored here (useful for some of the features) </td></tr>
    <tr><td class="paramname">cancellable</td><td>true to allow the move to be cancelled later </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of removed lines </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__board.html#ga10e3ed9190a31de00bd754a8b98851ac" title="Removes the last dropped piece and restores the board state.">board_cancel_last_move()</a> </dd></dl>

</div>
</div>
<a id="ga10e3ed9190a31de00bd754a8b98851ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10e3ed9190a31de00bd754a8b98851ac">&#9670;&nbsp;</a></span>board_cancel_last_move()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void board_cancel_last_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBoard.html">Board</a> *&#160;</td>
          <td class="paramname"><em>board</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the last dropped piece and restores the board state. </p>
<p>This is possible only if cancellable was set to 1 when you called <a class="el" href="group__board.html#ga3aaf139aa39834ec4863649c6abc20ff" title="Drops a new piece onto the wall.">board_drop_piece()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">board</td><td>the board </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__board.html#ga3aaf139aa39834ec4863649c6abc20ff" title="Drops a new piece onto the wall.">board_drop_piece()</a> </dd></dl>

</div>
</div>
<a id="gafad41c30439c60ecb669d38519770676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafad41c30439c60ecb669d38519770676">&#9670;&nbsp;</a></span>board_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void board_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBoard.html">Board</a> *&#160;</td>
          <td class="paramname"><em>board</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes the board empty to start a new game. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">board</td><td>the board to clear </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga799852fc60885e762aa64d2de859b304"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga799852fc60885e762aa64d2de859b304">&#9670;&nbsp;</a></span>board_update_column_heights()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void board_update_column_heights </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBoard.html">Board</a> *&#160;</td>
          <td class="paramname"><em>board</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the height of the columns. </p>
<p>Calculates the height of each column and stores it so that <a class="el" href="group__board.html#ga7f783b7f06e6e914aec1b5f36d7b80a5" title="Returns the height of a column.">board_get_column_height()</a> can work. When the board changes, this function has to be called if you want <a class="el" href="group__board.html#ga7f783b7f06e6e914aec1b5f36d7b80a5" title="Returns the height of a column.">board_get_column_height()</a> to return the right value. This function is quite costly because it loops on the columns and the rows, whereas most of the functions don't need to loop on the columns. If your algorithm doesn't need the height of each column, you won't need to call <a class="el" href="group__board.html#ga7f783b7f06e6e914aec1b5f36d7b80a5" title="Returns the height of a column.">board_get_column_height()</a>, so don't waste your time calling this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">board</td><td>a board </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__board.html#ga7f783b7f06e6e914aec1b5f36d7b80a5" title="Returns the height of a column.">board_get_column_height()</a> </dd></dl>

</div>
</div>
<a id="ga7f783b7f06e6e914aec1b5f36d7b80a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f783b7f06e6e914aec1b5f36d7b80a5">&#9670;&nbsp;</a></span>board_get_column_height()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int board_get_column_height </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBoard.html">Board</a> *&#160;</td>
          <td class="paramname"><em>board</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>column</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the height of a column. </p>
<p>This function returns a value computed by <a class="el" href="group__board.html#ga799852fc60885e762aa64d2de859b304" title="Computes the height of the columns.">board_update_column_heights()</a>, so you <a class="el" href="group__board.html#ga799852fc60885e762aa64d2de859b304" title="Computes the height of the columns.">board_update_column_heights()</a> must have been called first. Indeed, for performance reasons, the column heights are computed only if you ask it explicitly by calling <a class="el" href="group__board.html#ga799852fc60885e762aa64d2de859b304" title="Computes the height of the columns.">board_update_column_heights()</a>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">board</td><td>a board </td></tr>
    <tr><td class="paramname">column</td><td>the column to consider </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the height of this column (zero for an empty column) </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__board.html#ga799852fc60885e762aa64d2de859b304" title="Computes the height of the columns.">board_update_column_heights()</a> </dd></dl>

</div>
</div>
<a id="ga87d9719e7bdbc0c5d1a167e4e95f9feb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga87d9719e7bdbc0c5d1a167e4e95f9feb">&#9670;&nbsp;</a></span>board_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void board_print </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBoard.html">Board</a> *&#160;</td>
          <td class="paramname"><em>board</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints the board into a file. </p>
<p>A human-readable view of the board is printed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>the file to write, e.g. stdout </td></tr>
    <tr><td class="paramname">board</td><td>a board </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
